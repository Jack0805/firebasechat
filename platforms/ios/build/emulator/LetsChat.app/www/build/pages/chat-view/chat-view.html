<!--
  Generated template for the ChatViewPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar primary>
  	  		
    <ion-title>{{ (interlucutoremail | async)?.email }}</ion-title>
    <ion-buttons end>
    	<button (click)="sendPicture()">
    		<ion-icon name="image"></ion-icon>
    	</button>
    </ion-buttons>

  </ion-navbar>

</ion-header>


<ion-content padding class="chat-view" id="chat-view">

	<div class="messages">

		<div class="message" *ngFor="let chat of chats | async" [ngClass]="{'me':uid === chat.from}">

			<!--<img *ngIf="(interlucutoremail | async)?.picture" src="{{(interlucutoremail | async)?.picture}}" style="max-width:50px;" [ngClass]="{'me':uid === chat.from}" class="myavatar">

			<img *ngIf="(uidemail | async)?.picture" src="{{(uidemail | async)?.picture}}" style="max-width:50px;" [ngClass]="{'me':uid === chat.from}" class="myavatar">-->

			<span *ngIf="chat.message" style="font-size:17px;">{{chat.message}}</span>
		
			<img *ngIf="chat.picture" src="{{chat.picture}}" class="picture">
			<br>
			<ion-label class="timelabel" *ngIf="chat.date" style="font-size:10px;" [ngClass]="{'me':uid === chat.from}">{{chat.date.replace('GMT+1100 (AEDT)','')}}</ion-label>
		</div>
		

	</div>

</ion-content>

<ion-footer>
	<ion-toolbar>
		<ion-row>

			<ion-col width-10>
				<ion-spinner *ngIf="!(chats)"></ion-spinner>
			</ion-col>

			<ion-col width-70 [hidden]="!chats">
				<ion-input type="text" placeholder="Enter yuour message here baby!" [(ngModel)]="message"></ion-input>
			</ion-col>

			<ion-col width-20 [hidden]="!chats">
				<button full (click)="sendMessage()">
					<ion-icon name="send"></ion-icon>
				</button>
			</ion-col>

		</ion-row>
	</ion-toolbar>
</ion-footer>
